{"version":3,"sources":["../../src/pages/vendor-home/vendor-home.module.ts","../../src/pages/vendor-home/vendor-home.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VendorHomePage } from './vendor-home';\n\n@NgModule({\n  declarations: [\n    VendorHomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VendorHomePage),\n  ],\n})\nexport class VendorHomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vendor-home/vendor-home.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,Platform } from 'ionic-angular';\n//import { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner';\nimport { BarcodeScanner } from \"@ionic-native/barcode-scanner\";\nimport { VirProvider } from '../../providers/providers';  //This is the webservice.\nimport { LoadingController} from \"ionic-angular\";\nimport { AlertController} from 'ionic-angular';\nimport { WelcomePage } from '../pages';\n/**\n * Generated class for the VendorHomePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-vendor-home',\n  templateUrl: 'vendor-home.html',\n})\nexport class VendorHomePage {\n\n  public unregisterBackButtonAction: any;\n  public carouselImage:any;\n  public scannedText: string;\n  public buttonText: string;\n  public loading: boolean;\n  public result:any;\n  public search_vir_by=\"\";\n  public buttonText2: string;\n  public logoutEvent:any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private barcodeScanner: BarcodeScanner,\n              public virWS:VirProvider,\n              private platform: Platform,\n              public alertCtrl: AlertController,\n              public loader: LoadingController) {\n\n    this.logoutEvent = navParams.get('event');\n\n    if(this.logoutEvent){\n      localStorage.clear();\n      this.navCtrl.setRoot(WelcomePage);\n    }else{\n      this.buttonText = \"Scan\";\n      this.loading = false;\n      this.result=\"empty\";\n    }\n\n  }\n\n  ionViewDidLoad() {\n    this.initializeBackButtonCustomHandler();\n    this.search_vir_by=\"scanner\";\n    this.buttonText2=\"Fetch\";\n    this['vir_card_id']=\"1111111111111112\";\n  }\n\n  ionViewWillLeave() {\n    // Unregister the custom back button action for this page\n    this.unregisterBackButtonAction && this.unregisterBackButtonAction();\n  }\n\n  doRefresh(refresher) {\n\n    setTimeout(() => {\n      this.buttonText = \"Scan\";\n      this.loading = false;\n      refresher.complete();\n    }, 2000);\n  }\n\n  resetResult(){\n     this.result=\"empty\";\n  }\n\n  public initializeBackButtonCustomHandler(): void {\n    this.unregisterBackButtonAction = this.platform.registerBackButtonAction(() => {\n      this.customHandleBackButton();\n    }, 10);\n  }\n\n  private customHandleBackButton(): void {\n    // do what you need to do here ...\n    this.unregisterBackButtonAction = this.platform.registerBackButtonAction(() => {\n      this.customHandleBackButton();\n    }, 10);\n  }\n\n  searchByVirId(){\n    this.result=\"\";\n    var vir_card_no=this['vir_card_id'];\n\n    let loaderCtrl = this.loader.create({\n      content: 'Fetching card data ...'\n    });\n\n    loaderCtrl.present();\n\n    this.virWS.getCardData(\"vir_card\",vir_card_no).subscribe(response => {\n      this.result=response.result;\n      console.log(this.result);\n      loaderCtrl.dismiss();\n    }, error=>{\n      loaderCtrl.dismiss();\n\n      let alert = this.alertCtrl.create({\n        title: 'Internal Server Error',\n        subTitle: error,\n        buttons: ['Dismiss']\n      });\n\n    alert.present();\n  }); //Ajax Call ends here.\n  }\n\n  searchByBarcode(qrcode){\n\n    this.result=\"\";\n    let loaderCtrl = this.loader.create({\n      content: 'Fetching card data ...'\n    });\n\n    loaderCtrl.present();\n\n    this.virWS.getCardData(\"qrcode\",qrcode).subscribe(response => {\n      this.result=response.result;\n      loaderCtrl.dismiss();\n    }, error=>{\n      loaderCtrl.dismiss();\n\n      let alert = this.alertCtrl.create({\n        title: 'Internal Server Error',\n        subTitle: error,\n        buttons: ['Dismiss']\n      });\n\n    alert.present();\n  }); //Ajax Call ends here.\n\n  }\n\n  public scanQR() {\n    this.buttonText = \"Loading..\";\n    this.loading = true;\n\n    this.barcodeScanner.scan().then((barcodeData) => {\n      if (barcodeData.cancelled) {\n        console.log(\"User cancelled the action!\");\n        this.buttonText = \"Scan\";\n        this.loading = false;\n        return false;\n      }\n      console.log(\"Scanned successfully!\");\n      console.log(barcodeData);\n      this.searchByBarcode(barcodeData.text);\n      this.loading=false;\n      this.buttonText=\"Scan\";\n\n      //this.goToResult(barcodeData);\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/vendor-home/vendor-home.ts"],"sourceRoot":""}