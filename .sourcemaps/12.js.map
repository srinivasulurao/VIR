{"version":3,"sources":["../../src/pages/login-tab/login-tab.module.ts","../../src/pages/login-tab/login-tab.ts"],"names":[],"mappings":"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","file":"12.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LoginTabPage } from './login-tab';\n\n@NgModule({\n  declarations: [\n    LoginTabPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginTabPage),\n  ],\n})\nexport class LoginTabPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-tab/login-tab.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { MainPage } from '../pages';\nimport { TabsPage } from '../tabs/tabs';\nimport { VirWebService } from  '../../app/web-services/vir-webservice';  //This is the webservice.\nimport { LoadingController} from \"ionic-angular\";\nimport { AlertController} from 'ionic-angular';\nimport { VendorTabPage } from '../vendor-tab/vendor-tab';\n\n/**\n * Generated class for the LoginTabPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n //Write the code properly and cleanly.\n\n@IonicPage()\n@Component({\n  selector: 'page-login-tab',\n  templateUrl: 'login-tab.html',\n})\nexport class LoginTabPage {\n\n  name:any;\n  image:any;\n  loginEvent:any;\n  account: { email: string, password: string, phone: string } = {\n    email: '',\n    password: '',\n    phone: ''\n  };\n  public loaderCtrl:any;\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public virWS:VirWebService, public alertCtrl: AlertController, public loader: LoadingController) {\n    this.name=\"LogIn\";\n    this.image='assets/img/logo.png';\n    this.loginEvent='member';\n\n    this['member_email']=\"ram@gmail.com\";\n    this['member_password']=\"8888888888\";\n  }\n\n  ionViewDidLoad() {\n    //console.log('ionViewDidLoad LoginTabPage');\n  }\n  ngOnInit(){\n    this.loginEvent='member';\n  }\n\n  doLogin(type){\n    \n      this.loaderCtrl = this.loader.create({\n        content: 'Authenticating ...'\n      });\n\n      var username = (type == \"partner\") ? this['partner_email'] : this['member_email'];\n      var password = (type == \"partner\") ? this['partner_password'] : this['member_password'];\n      var role_id = (type == \"partner\") ? 2 : 1;\n\n      if (this.validate(username, password) == false) {\n        //Start the webservice Call and check the credentials.\n        return false;\n\n      }\n      else {\n        this.loaderCtrl.present();\n        this.virWS.attemptUserLogin(username, password, role_id).subscribe(response => {\n          this.loaderCtrl.dismiss();\n          console.log(response);\n          if (response.response_message) {\n            let alert = this.alertCtrl.create({\n              title: 'Login Failed',\n              subTitle: response.response_message,\n              buttons: ['Dismiss']\n            });\n            alert.present();\n          }\n          else {\n            //Store the user information in the local storage object.\n            localStorage.setItem(\"fullname\", response.result.fullname);\n            localStorage.setItem(\"hashkey\", response.result.hashkey);\n            localStorage.setItem(\"roleid\", response.result.roleid);\n            localStorage.setItem(\"status\", response.result.status);\n            localStorage.setItem(\"userid\", response.result.userid);\n            localStorage.setItem(\"username\", response.result.username);\n            \n            if(type==\"member\") \n                this.navCtrl.push(TabsPage); \n            else\n                this.navCtrl.push(VendorTabPage);\n          }\n        }); //Ajax Call ends here.\n      }\n    \n  }\n\n  validate(username,password){\n    var error=\"\";\n\n    if(username==\"\"){\n        error+=\"<li>Please enter your Username !\";\n    }\n    if(password==\"\"){\n        error+=\"<li>Please enter your Password !\";\n    }\n\n        if(error!=\"\"){\n          let alert = this.alertCtrl.create({\n            title: 'Login Failed',\n            subTitle: \"<ul>\"+error+\"</ul>\",\n            buttons: ['Dismiss']\n          });\n\n          alert.present();\n\n          return false;\n        }\n        else{\n          return true;\n        }\n  }\n\n\n\n\n\n\n\n} //class ends here.\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-tab/login-tab.ts"],"sourceRoot":""}